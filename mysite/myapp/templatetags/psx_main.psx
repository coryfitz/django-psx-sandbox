from django import template
register = template.Library()

from packed import packed, Component, Elem

@register.simple_tag
@packed
def psx_syntax():

    from packed import psx_import

    from pathlib import Path
    from django.conf import settings

    psx_file_path = Path(settings.BASE_DIR) / 'myapp' / 'components' / 'psx_components.psx'
    
    main = psx_import(psx_file_path, 'main')

    return main()